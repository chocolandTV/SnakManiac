[gd_scene load_steps=27 format=3 uid="uid://ba8sjv1bxg4ex"]

[ext_resource type="Texture2D" uid="uid://blyonnvrx2dg4" path="res://Ressource/snakeSprite.png" id="1_be6w0"]
[ext_resource type="Texture2D" uid="uid://u7d8x2vrc2i0" path="res://Ressource/grass.png" id="1_dotqa"]
[ext_resource type="Script" path="res://Ressource/Scripts/GameManager.cs" id="1_oi33h"]
[ext_resource type="Texture2D" uid="uid://byohbqcxmv2uc" path="res://Ressource/apple.png" id="2_xxr7o"]
[ext_resource type="Script" path="res://Ressource/Scripts/GameBoard.cs" id="3_dmf3g"]
[ext_resource type="Script" path="res://Ressource/Scripts/InputManager.cs" id="4_ksoxy"]
[ext_resource type="Texture2D" uid="uid://d1h1xru1w0a8m" path="res://Ressource/Coin.png" id="5_auvdr"]
[ext_resource type="PackedScene" uid="uid://cvwraxid04yf" path="res://Ressource/particle.tscn" id="6_dgto7"]
[ext_resource type="PackedScene" uid="uid://bpjfri83wmryg" path="res://score.tscn" id="6_ehukk"]
[ext_resource type="Texture2D" uid="uid://cvw4d66bxn1mv" path="res://Ressource/Diamond.png" id="6_w4k8t"]
[ext_resource type="AudioStream" uid="uid://dbpe5pba1alm4" path="res://Ressource/Sound/Normal.mp3" id="7_1kfrv"]
[ext_resource type="AudioStream" uid="uid://dkxuapri0i7fs" path="res://Ressource/Sound/crunch.wav" id="7_1req0"]
[ext_resource type="Texture2D" uid="uid://dexwbddqr245" path="res://Ressource/Unicorn.png" id="7_4o0fc"]
[ext_resource type="AudioStream" uid="uid://ci2p5aktilphj" path="res://Ressource/Sound/speedy(1).mp3" id="8_1fm2d"]
[ext_resource type="Texture2D" uid="uid://cc2j84f6q6i0c" path="res://Ressource/Cherry.png" id="8_yfn8a"]
[ext_resource type="PackedScene" uid="uid://ctpcjwj56qomf" path="res://h_menu.tscn" id="9_8b88t"]
[ext_resource type="AudioStream" uid="uid://dlxysucutefg7" path="res://Ressource/Sound/FinalBreeze.mp3" id="9_ayc51"]
[ext_resource type="Script" path="res://Ressource/Scripts/BackgroundMusic.cs" id="11_pn0pj"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_fx0yc"]
resource_name = "Snake"
texture = ExtResource("1_be6w0")
texture_region_size = Vector2i(40, 40)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
7:1/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_nw3or"]
resource_name = "Apple"
texture = ExtResource("2_xxr7o")
texture_region_size = Vector2i(40, 40)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_v5qyi"]
texture = ExtResource("5_auvdr")
texture_region_size = Vector2i(40, 40)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_5ypyp"]
texture = ExtResource("6_w4k8t")
texture_region_size = Vector2i(40, 40)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_n0m55"]
texture = ExtResource("7_4o0fc")
texture_region_size = Vector2i(40, 40)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_nqsb5"]
texture = ExtResource("8_yfn8a")
texture_region_size = Vector2i(40, 40)
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_bf581"]
tile_size = Vector2i(40, 40)
sources/0 = SubResource("TileSetAtlasSource_fx0yc")
sources/1 = SubResource("TileSetAtlasSource_nw3or")
sources/2 = SubResource("TileSetAtlasSource_v5qyi")
sources/3 = SubResource("TileSetAtlasSource_5ypyp")
sources/4 = SubResource("TileSetAtlasSource_n0m55")
sources/5 = SubResource("TileSetAtlasSource_nqsb5")

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_e10hh"]
playback_mode = 1
streams_count = 3
stream_0/stream = ExtResource("8_1fm2d")
stream_0/weight = 1.0
stream_1/stream = ExtResource("9_ayc51")
stream_1/weight = 1.0
stream_2/stream = ExtResource("7_1kfrv")
stream_2/weight = 1.0

[node name="MainScene" type="Node" node_paths=PackedStringArray("ScorePanel", "MenuPanel", "h_Menu", "gameBoard")]
script = ExtResource("1_oi33h")
ScorePanel = NodePath("Score")
MenuPanel = NodePath("H_Menu")
h_Menu = NodePath("H_Menu")
gameBoard = NodePath("GameBoard")

[node name="TextureRect" type="TextureRect" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = 150.0
offset_bottom = -30.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("1_dotqa")
expand_mode = 5
stretch_mode = 1

[node name="GameBoard" type="TileMap" parent="." node_paths=PackedStringArray("particle", "audioPlayer")]
position = Vector2(0, 150)
tile_set = SubResource("TileSet_bf581")
rendering_quadrant_size = 20
format = 2
layer_0/tile_data = PackedInt32Array(65536, 458752, 1)
script = ExtResource("3_dmf3g")
particle = NodePath("Particle")
BoardSize = 19
audioPlayer = NodePath("../CrunchSound")

[node name="Game_Snake_Tick" type="Timer" parent="GameBoard"]
wait_time = 0.1
autostart = true

[node name="Particle" parent="GameBoard" instance=ExtResource("6_dgto7")]
position = Vector2(5, 0)

[node name="InputManager" type="Node" parent="." node_paths=PackedStringArray("gameBoard", "gameManager")]
script = ExtResource("4_ksoxy")
gameBoard = NodePath("../GameBoard")
gameManager = NodePath("..")

[node name="Score" parent="." instance=ExtResource("6_ehukk")]
position = Vector2(6, 45)

[node name="BackgroundMusic" type="AudioStreamPlayer2D" parent="."]
process_priority = 1
stream = SubResource("AudioStreamRandomizer_e10hh")
autoplay = true
bus = &"Music"
script = ExtResource("11_pn0pj")

[node name="CrunchSound" type="AudioStreamPlayer2D" parent="."]
process_priority = -1
stream = ExtResource("7_1req0")
volume_db = -10.306
pitch_scale = 1.15
max_polyphony = 3
bus = &"SFX"

[node name="H_Menu" parent="." instance=ExtResource("9_8b88t")]

[connection signal="timeout" from="GameBoard/Game_Snake_Tick" to="GameBoard" method="On_game_snake_tick_timeout"]
[connection signal="finished" from="BackgroundMusic" to="BackgroundMusic" method="_on_background_music_finished"]
